{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dev/Desktop/Full stack/Mongoose Backend/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/dev/Desktop/Full stack/Mongoose Backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/dev/Desktop/Full stack/Mongoose Backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{useHistory}from'react-router-dom';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";console.log(\"1\");function UpdateUser(){console.log(\"2\");var _useParams=useParams(),id=_useParams.id;console.log(id,\"qwertyuio\");var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setNames=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmails=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),phone=_useState6[0],setPhones=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessages=_useState8[1];useEffect(function(){console.log(\"3\");var fetchUpdate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var idUpdate;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"4\");_context.next=3;return axios.get(\"http://localhost:3000/api/users/\".concat(id));case 3:idUpdate=_context.sent;console.log(idUpdate.data.name,\"we we\");setNames(idUpdate.data.name);setEmails(idUpdate.data.email);setPhones(idUpdate.data.phone);setMessages(idUpdate.data.message);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchUpdate(_x){return _ref.apply(this,arguments);};}();fetchUpdate(id);console.log(\"5\");},[id]);console.log(\"6\");var updateData={name:name,email:email,phone:phone,message:message};var update=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var updateBlog;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"7\");_context2.prev=1;_context2.next=4;return axios.patch(\"http://localhost:3000/api/users/\".concat(id),updateData);case 4:updateBlog=_context2.sent;console.log(updateBlog.data);// alert(createBlog.data);\nhistory.push('/');_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0.message);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function update(_x2){return _ref2.apply(this,arguments);};}();console.log(\"8\");return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"table-title\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-4\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Blog \",/*#__PURE__*/_jsx(\"b\",{children:\"Update\"})]})})})}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"NameDemo\",children:\"Your Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"NameDemo\",value:name,onChange:function onChange(e){setNames(e.target.value);},\"aria-describedby\":\"nameHelp\",placeholder:\"Please enter your full name\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"EmailDemo\",children:\"Your Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",class:\"form-control\",id:\"EmailDemo\",value:email,onChange:function onChange(e){setEmails(e.target.value);},\"aria-describedby\":\"emailHelp\",placeholder:\"Please enter your primary email, we will send confirmation email!\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"passDemo\",children:\"Enter Phone Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"passDemo\",value:phone,onChange:function onChange(e){setPhones(e.target.value);},\"aria-describedby\":\"passHelp\",placeholder:\"Please enter your mobile number\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"passDemo\",children:\"Enter Your Message:\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",class:\"form-control\",id:\"msgDemo\",value:message,onChange:function onChange(e){setMessages(e.target.value);},\"aria-describedby\":\"msgHelp\",placeholder:\"Please enter your messages\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-success\",onClick:function onClick(){update(id);},children:\"Update Blog\"})]})]})});}export default UpdateUser;","map":{"version":3,"sources":["C:/Users/dev/Desktop/Full stack/Mongoose Backend/frontend/src/component/UpdateUser.js"],"names":["React","useState","useEffect","axios","useHistory","useParams","console","log","UpdateUser","id","history","name","setNames","email","setEmails","phone","setPhones","message","setMessages","fetchUpdate","get","idUpdate","data","updateData","update","patch","updateBlog","push","e","target","value"],"mappings":"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","sourcesContent":["import React , {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nconsole.log(\"1\");\r\n\r\nfunction UpdateUser() {\r\nconsole.log(\"2\");\r\n\r\n\r\n    let {id} = useParams();\r\n    console.log(id , \"qwertyuio\");\r\n    let history = useHistory();\r\n    const [name, setNames] = useState(\"\");\r\n    const [email, setEmails] = useState(\"\");\r\n    const [phone, setPhones] = useState(\"\");\r\n    const [message, setMessages] = useState(\"\");\r\n\r\n\r\n    useEffect(() => {\r\n    console.log(\"3\");\r\n   \r\n    let fetchUpdate = async(id)=>{\r\n        console.log(\"4\");\r\n        let idUpdate = await axios.get(`http://localhost:3000/api/users/${id}`);\r\n        console.log(idUpdate.data.name, \"we we\");\r\n    \r\n        setNames(idUpdate.data.name);\r\n        setEmails(idUpdate.data.email);\r\n        setPhones(idUpdate.data.phone);\r\n        setMessages(idUpdate.data.message);\r\n    }\r\n    fetchUpdate(id);\r\n    console.log(\"5\");\r\n}, [id]);\r\n\r\nconsole.log(\"6\");\r\n\r\nconst updateData = {\r\n    name: name,\r\n    email:email,\r\n    phone:phone,\r\n    message:message\r\n\r\n}\r\n\r\n  const update = async(id)=>{\r\n    console.log(\"7\");\r\n        try {\r\n\r\n            const updateBlog = await axios.patch(`http://localhost:3000/api/users/${id}`, updateData);\r\n            console.log(updateBlog.data);\r\n            // alert(createBlog.data);\r\n            history.push('/');\r\n\r\n        } catch (error) {\r\n            console.log(error.message);\r\n            \r\n        }\r\n\r\n    }\r\nconsole.log(\"8\");\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n<div class=\"container\">\r\n<div class=\"table-title\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-4\">\r\n                        <h2>Blog <b>Update</b></h2>\r\n                    </div>\r\n                   \r\n                </div>\r\n            </div>\r\n<form>\r\n\r\n  <div class=\"form-group\">\r\n    <label for=\"NameDemo\">Your Name:</label>\r\n    <input type=\"text\" class=\"form-control\" id=\"NameDemo\" value={name} onChange={(e)=>{setNames(e.target.value)}} aria-describedby=\"nameHelp\" placeholder=\"Please enter your full name\"/>\r\n    </div>\r\n  <div class=\"form-group\">\r\n    <label for=\"EmailDemo\">Your Email:</label>\r\n    <input type=\"email\" class=\"form-control\" id=\"EmailDemo\" value={email} onChange={(e)=>{setEmails(e.target.value)}} aria-describedby=\"emailHelp\" placeholder=\"Please enter your primary email, we will send confirmation email!\"/>\r\n    </div>\r\n  <div class=\"form-group\">\r\n    <label for=\"passDemo\">Enter Phone Number:</label>\r\n    <input type=\"text\" class=\"form-control\" id=\"passDemo\" value={phone} onChange={(e)=>{setPhones(e.target.value)}} aria-describedby=\"passHelp\" placeholder=\"Please enter your mobile number\"/>\r\n    </div>\r\n  <div class=\"form-group\">\r\n    <label for=\"passDemo\">Enter Your Message:</label>\r\n    <textarea  type=\"text\" class=\"form-control\" id=\"msgDemo\" value={message} onChange={(e)=>{setMessages(e.target.value)}}  aria-describedby=\"msgHelp\" placeholder=\"Please enter your messages\"/>\r\n  </div>\r\n  <button type=\"button\" class=\"btn btn-success\" onClick={()=>{\r\n      update(id)\r\n  }}>Update Blog</button>\r\n</form>\r\n</div>\r\n            \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default UpdateUser\r\n"]},"metadata":{},"sourceType":"module"}